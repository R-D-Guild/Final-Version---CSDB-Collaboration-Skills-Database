var e=globalThis,t={},s={},a=e.parcelRequire3d38;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in s){var a=s[e];delete s[e];var r={id:e,exports:{}};return t[e]=r,a.call(r.exports,r,r.exports),r.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){s[e]=t},e.parcelRequire3d38=a),a.register;var r=a("iAutD");document.getElementById("discordSignUpBtn").addEventListener("click",function(){(0,r.supabase).auth.signInWithOAuth({provider:"discord",options:{redirectTo:"http://localhost:1234/dashardboard.html"}})}),document.getElementById("gitHubSignUpBtn").addEventListener("click",function(){(0,r.supabase).auth.signInWithOAuth({provider:"github",options:{redirectTo:"http://localhost:1234/dashardboard.html"}})}),(0,r.supabase).auth.getSession().then(({data:{session:e},error:t})=>{e?console.log("User is authenticated:",e.user):console.log("User is not authenticated")}),(async()=>{let e=document.getElementById("signUpFormDetails"),t=document.getElementById("signUpEmail"),s=document.getElementById("signUpPassword"),a=document.getElementById("confirmationMessage"),n=document.getElementById("togglePassword"),i=e=>{a.textContent=e,a.classList.add("alert","shake"),a.style.display="block",setTimeout(()=>{a.style.display="none",a.classList.remove("shake")},9e3)},o=()=>{a.style.display="none",a.classList.remove("shake")};n.addEventListener("click",()=>{"password"===s.getAttribute("type")?(s.setAttribute("type","text"),n.innerHTML='<i class="fa-solid fa-eye-slash"></i>'):(s.setAttribute("type","password"),n.innerHTML='<i class="fa-solid fa-eye"></i>')});let l=()=>{"undefined"!=typeof hcaptcha&&hcaptcha.reset()};e.addEventListener("submit",async e=>{e.preventDefault();let n=t.value.trim(),d=s.value.trim(),c=hcaptcha.getResponse();if(o(),!n||!d){i("Email and password are required."),l();return}if(!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(n)){i("Please enter a valid email address."),l();return}if(!c){i("Please complete the CAPTCHA."),l();return}try{let{data:e,error:t}=await (0,r.supabase).auth.signUp({email:n,password:d,options:{captchaToken:c}});if(t){i(t.message),l();return}if(!e.user){i("Error: Could not retrieve user information after sign-up."),l();return}a.style.color="green",a.textContent="Sign up successful! Please check your email to verify your account.",localStorage.setItem("pendingVerificationEmail",n),window.location.href="./verification-pending.html"}catch(e){i("Something went wrong. Please try again later."),l()}})})();
//# sourceMappingURL=index.9a7631dd.js.map
