<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style-db.css">
</head>
<body style="background-color: #171717;">
 <center>
     <h1 style="color: white;">Welocme man!!</h1>
</center>   
<center>
    <h2 style="color: white;">You did it</h2>
</center>\
<button id="signOutBtn">Sign Out</button>



<!-- Popup Modal for Sign Out Confirmation -->
<div id="signOutPopup" class="popup" style="display: none;">
    <div class="popup-content">
      <p>Are you sure you want to sign out?</p>
      <button id="proceedSignOut" class="popup-btn">Proceed</button>
      <button id="cancelSignOut" class="popup-btn">Cancel</button>
    </div>
  </div>


<script type="module">
// Inline script for sign out functionality
import { supabase } from './supabaseClient';  // Import the Supabase client

const signOutBtn = document.getElementById('signOutBtn');
    const signOutPopup = document.getElementById('signOutPopup');
    const proceedSignOutBtn = document.getElementById('proceedSignOut');
    const cancelSignOutBtn = document.getElementById('cancelSignOut');

    const showPopUp = ()=>{
        signOutPopup.style.display = 'flex';
    };

    const hidePopUp = ()=>{
        signOutPopup.style.display = 'none';
    };

    signOutBtn.addEventListener('click', showPopUp);
    cancelSignOutBtn.addEventListener('click', hidePopUp);

    proceedSignOutBtn.addEventListener('click', async ()=>{
        try {
            const {error} = await supabase.auth.signOut();

            if (error) {
                console.error('Error signing out:', error.message)
            }

        // Sign out successful, redirect to login or signup page
        window.location.href = '/index.html';  // Or use '/login.html' based on preference
        }catch(error) {
            console.error('Unexpected error during sign out:', error);
        }
    })
</script>
</body>
</html>